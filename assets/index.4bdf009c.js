var _=Object.defineProperty,I=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var O=(t,e,o)=>e in t?_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,h=(t,e)=>{for(var o in e||(e={}))N.call(e,o)&&O(t,o,e[o]);if(E)for(var o of E(e))R.call(e,o)&&O(t,o,e[o]);return t},f=(t,e)=>I(t,S(e));import{P as d,r as y,j as i,c as g,R as k,a as p,m as T,F as w,b as x,d as F}from"./vendor.3fe1bf76.js";const P=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function o(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=o(s);fetch(s.href,r)}};P();const b=({todoText:t,placeholder:e,editing:o,newTodo:n,onSave:s})=>{const[r,l]=y.exports.useState(t||""),m=a=>{const c=a.target.value.trim();a.which===13&&(s(c),n&&l(""))},u=a=>{l(a.target.value)},C=a=>{n||s(a.target.value)};return i("input",{className:g({edit:o,"new-todo":n}),type:"text",placeholder:e,autoFocus:!0,value:r,onBlur:C,onChange:u,onKeyDown:m})};b.propTypes={onSave:d.func.isRequired,todoText:d.string,placeholder:d.string,editing:d.bool,newTodo:d.bool};const L=k.createContext(void 0),v=()=>y.exports.useContext(L),M=()=>{const[,t]=v();return p("header",{className:"header",children:[i(T.h1,{initial:{scale:0},animate:{scale:1},transition:{duration:1,ease:"easeInOut",delay:.2},children:"todos"}),i(b,{newTodo:!0,onSave:e=>{e.length!==0&&t({type:"ADD_TODO",payload:{text:e}})},placeholder:"What needs to be done?"})]})},D=({children:t,filter:e})=>{const[{visibilityFilter:o},n]=v();return i("a",{href:"#",type:"button",className:g({selected:e===o}),style:{cursor:"pointer"},onClick:()=>n({type:"SET_VISIBILITY",payload:{visibilityFilter:e}}),children:t})};D.propTypes={children:d.node.isRequired,filter:d.string.isRequired};const B=["All","Active","Completed"],A=({activeCount:t,completedCount:e,onClearCompleted:o})=>p("footer",{className:"footer",children:[p("span",{className:"todo-count",children:[i("strong",{children:t||"No"})," ",t===1?"item":"items"," left"]}),i("ul",{className:"filters",children:B.map(n=>i("li",{children:i(D,{filter:n,children:n})},n))}),!!e&&i("button",{type:"button",className:"clear-completed",onClick:o,children:"Clear completed"})]});A.propTypes={completedCount:d.number.isRequired,activeCount:d.number.isRequired,onClearCompleted:d.func.isRequired};const q={hidden:{opacity:0},visible:({delay:t})=>({opacity:1,transition:{delay:t,duration:1}})},j=({index:t,todo:e})=>{const[o,n]=y.exports.useState(!1),s=v()[1],r=(a,c)=>s({type:"EDIT_TODO",payload:{id:a,text:c}}),l=(a,c)=>s({type:"DELETE_TODO",payload:{id:a,text:c}}),m=(a,c)=>s({type:"COMPLETE_TODO",payload:{id:a,text:c}}),u=()=>n(!0),C=(a,c)=>{c.length===0?l(a):r(a,c),n(!1)};return i(T.div,{className:g({completed:e.completed,editing:o}),custom:{delay:(t+1)*.1},initial:"hidden",animate:"visible",exit:"hidden",variants:q,layoutId:e.id,children:o?i(b,{text:e.text,editing:o,onSave:a=>C(e.id,a)}):p("div",{className:"view",children:[i("input",{className:"toggle",type:"checkbox",checked:e.completed,onChange:()=>m(e.id)}),i("label",{onDoubleClick:u,children:e.text}),i(T.button,{whileTap:{scale:.9},whileHover:{cursor:"pointer",scale:1.5},type:"button",className:"destroy",onClick:()=>l(e.id)})]})})},U=(t,e)=>{switch(e){case"All":return t;case"Completed":return t.filter(o=>o.completed);case"Active":return t.filter(o=>!o.completed);default:throw new Error(`Unknown filter: ${e}`)}},H=({todos:t,visibilityFilter:e,setTodos:o})=>i(w,{children:i(x.Group,{className:"todo-list",axis:"y",values:t,onReorder:o,children:U(t,e).map((n,s)=>i(x.Item,{value:n,children:i(j,{index:s,todo:n})},n.id))})}),V=t=>t.reduce((e,o)=>o.completed?e+1:e,0),K=()=>{const[{todos:t,visibilityFilter:e},o]=v(),n=t.length,s=V(t);return p(T.section,{layout:!0,className:"main",children:[!!n&&p("span",{children:[i("input",{className:"toggle-all",type:"checkbox",defaultChecked:s===n}),i("label",{onClick:()=>o({type:"COMPLETE_ALL"})})]}),i(H,{todos:t,visibilityFilter:e,setTodos:r=>o({type:"SET_TODOS",payload:{todos:r}})}),!!n&&i(A,{completedCount:s,activeCount:n-s,onClearCompleted:()=>{o({type:"CLEAR_COMPLETED"})}})]})},Y=(t,e)=>{const{id:o,text:n}=e.payload||{id:void 0,text:void 0},{todos:s,visibilityFilter:r}=t;switch(e.type){case"ADD_TODO":return{todos:[{id:Math.random().toString(16).substring(2),completed:!1,text:n},...s],visibilityFilter:r};case"DELETE_TODO":return{todos:s.filter(l=>l.id!==o),visibilityFilter:r};case"EDIT_TODO":return{todos:s.map(l=>l.id===o?f(h({},l),{text:n}):l),visibilityFilter:r};case"COMPLETE_TODO":return{todos:s.map(l=>l.id===o?f(h({},l),{completed:!l.completed}):l),visibilityFilter:r};case"COMPLETE_ALL":{const l=s.every(u=>u.completed),m={todos:s.map(u=>f(h({},u),{completed:!l})),visibilityFilter:r};return console.log(m),m}case"CLEAR_COMPLETED":return{todos:s.filter(l=>l.completed===!1),visibilityFilter:r};case"CLEAR_ALL":return{todos:[],visibilityFilter:r};case"SET_VISIBILITY":return{todos:[...s],visibilityFilter:e.payload.visibilityFilter};case"SET_TODOS":return{todos:[...e.payload.todos],visibilityFilter:r};default:return t}},G=({reducer:t,initialState:e,children:o})=>i(L.Provider,{value:y.exports.useReducer(t,e),children:o}),W={todos:[{text:"React Hooks",completed:!1,id:"b967afe24b23"},{text:"Viva la comunidad de Midu ORALE",completed:!0,id:"43286487fhsdjasd"},{text:"Hooooola Twitch!",completed:!1,id:"54937fhajd"},{text:"Context",completed:!0,id:"43242341aaaaa"},{text:"BUA BUA BUA BUA",completed:!0,id:"b967afe24a13"}],visibilityFilter:"All"},$=()=>i(G,{initialState:W,reducer:Y,children:p("div",{children:[i(M,{}),i(K,{})]})});F.exports.render(i($,{}),document.getElementById("root"));
